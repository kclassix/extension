(()=>{"use strict";const e=e=>{chrome.storage.local.get(["ipData","timezone","timezoneMatchIP","lat","latitudeMatchIP","lon","longitudeMatchIP","locale","localeMatchIP","userAgent","platform","locationBrowserDefault","userAgentBrowserDefault"],(t=>{(t.timezone||t.lat||t.lon||t.locale||t.userAgent)&&(void 0!==t.locationBrowserDefault&&!t.locationBrowserDefault||void 0!==t.userAgentBrowserDefault&&!t.userAgentBrowserDefault)&&chrome.debugger.attach({tabId:e},"1.3",(()=>{chrome.runtime.lastError||(t.locationBrowserDefault||(t.timezone&&chrome.debugger.sendCommand({tabId:e},"Emulation.setTimezoneOverride",{timezoneId:t.timezone},(()=>{var t;chrome.runtime.lastError&&(null===(t=chrome.runtime.lastError.message)||void 0===t?void 0:t.includes("Timezone override is already in effect"))&&chrome.debugger.detach({tabId:e})})),t.locale&&chrome.debugger.sendCommand({tabId:e},"Emulation.setLocaleOverride",{locale:t.locale}),(t.lat||t.lon)&&chrome.debugger.sendCommand({tabId:e},"Emulation.setGeolocationOverride",{latitude:t.lat?parseFloat(t.lat):t.ipData.lat,longitude:t.lon?parseFloat(t.lon):t.ipData.lon,accuracy:1})),t.userAgentBrowserDefault||!t.userAgent&&!t.platform||chrome.debugger.sendCommand({tabId:e},"Emulation.setUserAgentOverride",{userAgent:t.userAgent,platform:t.platform}))}))}))},t=t=>{chrome.debugger.getTargets((a=>{const r=a.find((e=>e.tabId===t));(null==r?void 0:r.attached)||e(t)}))};chrome.tabs.onCreated.addListener((t=>{t.id&&e(t.id)})),chrome.tabs.onActivated.addListener((e=>{t(e.tabId)})),chrome.tabs.onUpdated.addListener((e=>{t(e)})),chrome.runtime.setUninstallURL("https://get.surfshark.net/aff_c?offer_id=926&aff_id=17240&source=uninstall")})();